---
title: python学习六
date: 2018-01-17 19:29:16
categories:
	- python
tags:
	- python


---

- nonlocal
- lambda表达式
- 递归函数
- 字符串操作
- 字符串函数
- format 字符格式化操作

<!-- more -->

---------
## nonlocal

nonlocal关键字的意义，不是局部变量，当然它也不是全局变量，通常用于内部函数中使用外部函数的局部变量。 

注意：

1.如果内部函数想使用全局变量，那么应该使用global声明变量(函数最外层的全局变量)

2.如果内部函数使用的是外部函数的局部变量，那么应该使用nonlocal声明
	

```
# 声明一个外部函数

def outer():
    # 声明一个变量(肯定不是全局变量)
    x = 5
    # 声明一个内部函数
    def inner():
        nonlocal x # 声明x不是局部变量
        x += 9
        print(x)
    # 调用函数
    inner()

# 调用outer
outer()

```

## lambda表达式

lambda表达式是一种简洁的函数，该表达不是正常的函数结构，而是属于表达式的类型。

	基本格式：
		lambda 参数，参数...：函数功能代码

	带分支格式：
		lambda 参数，参数...:值1 if 条件表达式 else 值2

	调用函数格式：
		lambda 参数，参数..:其他函数(...)

lambda表达式的优缺点：

	优点：
		1.书写简单不需要def关键字	
		2.不需要起函数名(匿名函数)
		3.看起来高大上

	缺点：
		1.lambda表达式功能受限，无法使用循环和多项分支复杂的操作，不适合lambda表达式

```
# 声明一个lamdba表达式1

mylamb = lambda x,y:x+y

#相当于一个函数
#def func(x,y):
#    return x+y


result = mylamb(3,5)

print(result)
```
```
# 声明一个lamdba表达式2

mylamb = lambda name = 'a':'aqqje' if name == 'a' else 'yjgmy'

result = mylamb()
print(result)

```

```
# 声明一个lamdba表达式调用函数

mylamb = lambda x:type(x)


result = mylamb(10)
print(result)

```

## 递归函数

在函数内调用当前函数本身的函数就是递归函数

```
# 递归函数
def digui(num):

    print(num)

    # 判断条件，不改变num
    if num > 0:
        digui(num - 1)
    else:
        print('===============')

    print(num)

    

digui(3)

```
结果如下:
```
3
2
1
0
===============
0
1
2
+
```

## 字符串操作

	+ 字符串连接操作
	* 字符复制操作
	[] 字符串索引操作，通过索引访问指定位置的字符，索引从0开始
	[::] 字符串取片操作
		完整格式：
			[开始索引:结束索引:间隔值]

			[:结束索引] 从开头到指定位置之前截取
			[开始索引:] 从指定位置截取到最后
			[开始索引:结束索引] 从开始索引截取到结束索引之前(不包含结束位置)
			[:] 截取整个字符串

	
	r'字符串' 元字符串，所有字符串的转义字符不会转义


```
# + 字符串连接操作

str1 = '你好，'
str2 = '旧时光'

result = str1 + str2

print(result)
# 你好，旧时光

# * 字符复制操作

strone = '★★★★★★★★\n'

strten = strone * 10

print(strten)

'''
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★
★★★★★★★★

'''
# 字符串索引操作

str1 = 'QWERTYUIOPASDFGHJKLZXCVBNM'

print(str1[23])
# B

# 字符串取片操作 字符串[开始索引:结束索引:间隔值]

str1 = str1 = 'QWERTYUIOPASDFGHJKLZXCVBNM'

# 从开头到指定位置之前截取

print(str1[:6])
QWERTY

# 从指定位置截取到最后
print(str1[21:])
# CVBNM

print(str1[-5:])
# CVBNM

# 从开始索引截取到结束索引之前(不包含结束位置)
print(str1[7:12])
# IOPAS

# 截取整个字符串
print(str1[:])
# QWERTYUIOPASDFGHJKLZXCVBNM

# 按照指定间隔数截取字符串
print(str1[:25:2])
# QETUOADGJLXVN
```

## 字符串函数

1.capitalize() 字符串首字母大写

	格式：字符串.capitalize()
	返回值：新字符串

2.title() 将每个单词首字母大写
	
	格式：字符串.title()
	返回值：新字符串

3.upper() 将所有字母大写

	格式：字符串.upper()
	返回值：新字符串

4.lower() 将所有字母小写

	格式：字符串.lower()
	返回值：新字符串

5.swapcase() 大小写互换

	格式：字符串.swapcase()
	返回值：新字符串

6.len() 计算字符串的长度

	格式：len(字符串)
	返回值：整型

7.count() 计算指定字符串出现的次数

	格式:字符串.count(查找字符串[,开始索引[,结束索引]])
	返回值：整型

8.find() 查找指定字符串第一次出现的位置

	格式：字符串.find(查找字符串[,开始索引[,结束索引]])
	返回值：整型  找不到返回  -1

9.index() 查找指定字符串第一次出现的位置

	格式：字符串.index(查找字符串[,开始索引[,结束索引]])
	返回值：整型  找不到抛出错误！

10.startwith() 检测字符串是否以指定的字符串开头

	格式：字符串.startwith(查找字符串)
	返回值：布尔值

11.endswith() 检测字符串是否以指定的字符串结尾

	格式：字符串.endswith(查找字符串)
	返回值：布尔值

12.isupper() 检测一个字符串中的英文是否都是大写字母，符号不算

	格式：字符串.isupper()
	返回值：布尔值 

13.islower() 检测一个字符串中的英文是否都是小写字母，符号不算

	格式：字符串.islower()
	返回值：布尔值

14.isalsum() 检测字符串是否由数字，字母和文字等组成

	格式：字符串.isalum()
	返回值：布尔值，汉字当作普通字符处理，没有标点和特殊字符就是真，空字符串为False

15.isalpha() 检测字符串是否由字母和文字等组成

	格式：字符串.isalpha()
	返回值：布尔值，汉字当作普通字符处理，空字符串为False

16.isdigit() 检测字符串是否由纯数字组成 (十进制)


	格式：字符串.isdigit()
	返回值：布尔值

17.isspace() 检测字符串是否空白字符组成

	格式：字符串.isspace()
	返回值：布尔值

18.istitle() 检测是否符合标题要求 （整数）

	格式：字符串.istitle()
	返回值：布尔值

19.isnumeric() 检测是否是数值字符串 

	格式：字符串.isnumeric()
	返回值：布尔值

20.isdecimal() 检测字符串是否是纯数值字符串组成

	格式：字符串.isdecimal()
	返回值：布尔值

21.split() 使用指定的字符串切割字符串

	格式：字符串，split(切割指定字符串)
	返回值：列表

22.splitlines() 将字符串按照换行位置进行切割操作
	
	格式：字符串.splitlines()
	返回值：列表

23.join 将列表中的内容按照指定字符连接成一个字符串

	格式：连接字符串。join(列表)
	返回值：字符串

24.zfill 在原有字符串长度不足指定长度，用0填充

	格式：字符串.zfill(指定字符串长度)
	返回值：字符串  不足的长度使用0填充，原来的字符串内容靠右

26.center() 指定字符串长度，并且使得元字符串内容剧中，其余位置使用指定字符串填充

	格式：字符串.center(指定字符串长度[,'指定字符串'])
	返回值：字符串  填充字符默认空格，可以指定其他

27.ljust() 指定字符串长度，并且使得元字符串内容靠左，其余位置使用指定字符串填充

	格式：字符串.ljust(指定字符串长度[,'指定字符串'])
	返回值：字符串  填充字符默认空格，可以指定其他

28.rjust() 指定字符串长度，并且使得元字符串内容靠右，其余位置使用指定字符串填充

	格式：字符串.rjust()(指定字符串长度[,'指定字符串'])
	返回值：字符串  填充字符默认空格，可以指定其他

29.strip() 去掉左右两侧的指定字符，默认空格

	格式：字符串.strip([指定字符])
	返回值:字符串

30.lstrip() 去掉左侧的指定字符，默认空格

	格式：字符串.lstrip()([指定字符])
	返回值:字符串

31.rstrip() 去掉右侧的指定字符，默认空格

	格式：字符串.rstrip()([指定字符])
	返回值:字符串

32.maketrans() 制作用于字符替换的映射表

	格式：字符串.maketrans('查找字符'，'替换字符')  两个字符必须长度相等
	返回值：字典

33.translate() 进行字符串替换操作
	
	格式：字符串.translate(映射表)
	返回值：字符串  替换之后的字符串


## format 字符格式化操作

```
# 方法1 位置参数
# 非关键字参数

str1 = '{}位和{}位操作系统是指：CPU一次处理数据的能力是{}位还是{}位'

result1 = str1.format('32','64','32','64')

print(result1)

# 多次利用参数

str2 = '{0}位和{1}位操作系统是指：CPU一次处理数据的能力是{0}位还是{1}位'

result2 = str2.format('32','64')

print(result2)

# 关键字参数


str3 = '{(threetwo}位和{sixforth}位操作系统是指：CPU一次处理数据的能力是{(threetwo}位还是{sixforth}位'

result3 = str3.format(threetwo = '32',sixforth = '64')

print(result3)
 

# 方法2 通过下标

str4 = '{0[0]}位和{0[1]}位操作系统是指：CPU一次处理数据的能力是{0[0]}位还是{0[1]}位'

result4 = str4.format(['32','64'])

print(result4)


str5 = '{0[t]}位和{0[f]}位操作系统是指：CPU一次处理数据的能力是{0[0]}位还是{0[1]}位'

result5 = str5.format({'t':'32','f':'64'})

print(result5)

# 方法3 格式限定符

#填充与补齐
str6 = '速度。重新定义{:□>10}'# 速度。重新定义□□□□□□新的高度  【靠右齐，且补满10】
str6 = '速度。重新定义{:□<10}'# 速度。重新定义□□□□□□新的高度  【靠左齐，且补满10】
str6 = '速度。重新定义{:□^ 10}'# 速度。重新定义□□□□□□新的高度  【靠剧中齐，且补满10】


result6 = str6.format('新的高度')

print(result6)

# 精度计算

str7 = '快捷快递价格表，山西省1kg{:.1f}' # 浮点数保留1位小数
result7 = str7.format(3.55777)
print(result7)

# 进制进制操作（默认十进制）{:d}

str8 = '{:b}元买了一件风衣' # 转化成了二进制
str8 = '{:o}元买了一件风衣' # 转化成了八进制
str8 = '{:x}元买了一件风衣' # 转化成了十六进制
result8 = str8.format(15)
pirnt(result8)

# 金融字符，逗号分隔

str9 = '今天上班，得了{:,}元'  # 今天上班，得了2,600,000元
result9 = str.format(2600000)
print(result9)


```

------------------


作者：梦不若星辰
链接：https://aqqje.github.io
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
